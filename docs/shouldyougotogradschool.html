<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Brian O’Meara - Should you go to grad school to be a professor?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Brian O’Meara</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-cv-etc." role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">CV, etc.</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-cv-etc.">    
        <li>
    <a class="dropdown-item" href="./cv.html" rel="" target="">
 <span class="dropdown-text">CV</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./calendar.html" rel="" target="">
 <span class="dropdown-text">Calendar</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./feedback.html" rel="" target="">
 <span class="dropdown-text">Feedback</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./useful.html" rel="" target="">
 <span class="dropdown-text">Useful links</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./tenure.html" rel="" target="">
 <span class="dropdown-text">Materials for promotion to associate (and tenure)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./promotion.html" rel="" target="">
 <span class="dropdown-text">Materials for promotion to full</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./SSB.html" rel="" target="">
 <span class="dropdown-text">Candidacy for SSB president</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-lab">    
        <li>
    <a class="dropdown-item" href="./personnel.html" rel="" target="">
 <span class="dropdown-text">People</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./guidelines.html" rel="" target="">
 <span class="dropdown-text">Guidelines &amp; Recommendations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./location.html" rel="" target="">
 <span class="dropdown-text">Location/Contact</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./opportunities.html" rel="" target="">
 <span class="dropdown-text">Opportunities</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./learningobjectives.html" rel="" target="">
 <span class="dropdown-text">Learning objectives</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./better-letter.html" rel="" target="">
 <span class="dropdown-text">BetterLetter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./shouldyougotogradschool.html" rel="" target="">
 <span class="dropdown-text">Should you go to grad school to be a professor?</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./tenure.html" rel="" target="">
 <span class="dropdown-text">Materials for promotion to associate (and tenure)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./promotion.html" rel="" target="">
 <span class="dropdown-text">Materials for promotion to full</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./general.html" rel="" target="">
 <span class="dropdown-text">Info for general public</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./covid.html" rel="" target="">
 <span class="dropdown-text">COVID</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./schedule.html" rel="" target="">
 <span class="dropdown-text">EEB scheduling</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-teaching" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Teaching</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-teaching">    
        <li>
    <a class="dropdown-item" href="./teaching.html" rel="" target="">
 <span class="dropdown-text">Teaching overall</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./eeb464.html" rel="" target="">
 <span class="dropdown-text">Macroevolution (EEB464)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://phylometh.info/" rel="" target="">
 <span class="dropdown-text">Phylogenetic Methods</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorials" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tutorials">    
        <li>
    <a class="dropdown-item" href="./aic.html" rel="" target="">
 <span class="dropdown-text">AIC</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./phylogenetics.html" rel="" target="">
 <span class="dropdown-text">Phylogenetics</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-blog" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Blog</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-blog">    
        <li>
    <a class="dropdown-item" href="./blog.html" rel="" target="">
 <span class="dropdown-text">Blog</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./blog.xml" rel="" target="">
 <span class="dropdown-text">RSS feed</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#pros" id="toc-pros" class="nav-link active" data-scroll-target="#pros">Pros</a></li>
  <li><a href="#cons" id="toc-cons" class="nav-link" data-scroll-target="#cons">Cons</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Should you go to grad school to be a professor?</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>A key question I get from advanced level undergrads is whether they should go to grad school intending to be a professor. I also tell prospective students in my lab some of the benefits and costs of choosing this career path. Here I am compiling some of this information; note that this is my personal view.</p>
<section id="pros" class="level3">
<h3 class="anchored" data-anchor-id="pros">Pros</h3>
<ul>
<li><p>If all goes well, you get to <strong>pursue your passion</strong>: if you care about how anoles in Cuba feed, you can spend your life studying that; or figuring out how Ebola spreads, what conditions are required for life to evolve, etc. This is a huge benefit: very, very few humans are privileged enough to follow their passions as the core of how they make their living.</p></li>
<li><p>You <strong>contribute to human knowledge</strong>. Matt Might has a <a href="https://matt.might.net/articles/phd-school-in-pictures/">good visual</a> for this. If all goes well, you bring information to humanity that we didn’t know (which can include a discovery that what we thought we knew was wrong). It is pretty amazing to live a life at the boundary of knowledge and ignorance and to be one of the people pushing this boundary outward.</p></li>
<li><p>You <strong>teach</strong>. Imagine teaching an intro bio class to non-majors. This may be the last chance many of them have to learn about the reality of evolution, the causes of climate change, how bacteria evolve in response to antibiotics, how nitrogen affects the ecosystem, and more – and it’s up to you to do this well.</p></li>
<li><p><strong>Standard of living in a faculty job</strong>: faculty aren’t paid what people with their degree of training might get working on Wall Street or in Silicon Valley, but it’s a solid middle class or upper middle class salary, typically in an area with good schools, health care, etc.</p></li>
</ul>
</section>
<section id="cons" class="level3">
<h3 class="anchored" data-anchor-id="cons">Cons</h3>
<ul>
<li><p><strong>You might not get to do this</strong>, after investing 5 years in a PhD and multiple years as a postdoc. Many people choose to do a PhD for reasons other than pursing a faculty job, and this is great. One thing we need to do better is train people for these vocations (careers in NGOs, government, industry, etc.) within PhD programs, especially since that is where many of our students choose to go. However, there is also a population (the intended audience for this post) who are planning to get a faculty job, but end up not finding one. It’s not unusual to get hundreds of good applicants for an assistant professor position, but only one of them will be successful. And the reason that she or he gets the job is partly overall “quality” (things like publication record, teaching experience, ability to get grants) but it is also largely due to extrinsic factors: need to have someone to teach a particular course, someone with experience working in a certain region, etc. My department (University of Tennessee, Knoxville, Ecology and Evolutionary department)&nbsp;<a href="https://eeb.bio.utk.edu/2015/08/11/eeb-a-great-place-for-a-phd/">tracks this info</a> for our graduates: after having their PhD for five years, 55% are tenure track faculty, 17% are in government jobs (EPA, etc.), 10% are in non tenure track research or teaching jobs, and so forth. This should give you an idea of probabilities of different outcomes (which is a mixture of choice and constraints); wherever you apply should have data like this.</p></li>
<li><p><strong>Work does not stop</strong>. Of course, for the parts of the career that you love, this could be a good thing: it can be fun to read the literature, develop new ideas, make new observations. But you will also have to write grants (about 92% of which will fail, given NSF funding rates), deal with the business of teaching (i.e., answering questions from students that are already addressed on the syllabus), and so forth. You definitely need to take breaks and think about work-life balance, but the pressure is always to work more.</p></li>
<li><p><strong>Danger</strong>: for work involving going to remote areas in the field, there is the real risk that you will be injured or killed. See <a href="https://strangebehaviors.wordpress.com/2011/01/14/the-wall-of-the-dead/">here</a> for a list of naturalists who have died on the job. A <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0102172">study (Clancy et al., 2014)</a> found a very high number of incidences of sexual harassment and sexual assault in the field, with the victims often being trainees.</p></li>
<li><p><strong>Depression</strong>: In a recent survey (see article about this <a href="https://www.insidehighered.com/news/2015/04/22/berkeley-study-finds-high-levels-depression-among-graduate-students">here</a>), over 4 in 10 PhD students in biology at Berkeley were assessed to be depressed. Grad school and science in general can be stressful. Frequent failure is a given (rejection from journals, grants, jobs, even (in some ways, especially) for ambitious, successful scientists). You and your work will also be evaluated by peers: do you get a job, get tenure, etc. People who have a different view than yours will go after your work in the literature. This is (often) healthy for science as a whole, but it doesn’t necessarily feel good. Also think about family support. If all goes well, and you’re lucky, you might have your first “real” job as a professor at age 30. You are more likely to be mid thirties or older, especially if you do a masters before PhD, multiple postdocs, etc. What will your parents, partner, etc. say when you still do not have a “real” job at 35, over a decade after you “finished college”?</p></li>
<li><p><strong>Standard of living on the way up</strong>: Grad students in many places don’t get paid well. It is school, not a job, but it is also typically five years or more for a PhD in the US, and that’s a long time to be living with little ability to build savings, especially at a time in people’s lives when they often start having children. Postdocs are often underpaid, and have to find and get a new job, in a different part of the world, every year or two. There will also be unexpected expenses (student fees, supplies while you’re in the field, travel to conferences) that might come out of your personal funds (shouldn’t but might). A scary new trend at some universities is <strong>eliminating health care plans</strong>, including subsidies, for grad students, sometimes with mere days of notice. In addition to avoiding schools like this (unless you have the resources for health care&nbsp;on your own; remember your parents can only cover you until you are 26), you may want to check with schools admitting you about guarantees for health care. Note that non-US universities may have different policies.</p></li>
<li><p><strong>Moving</strong>: how many faculty members has your current department hired since you’ve been there in the area you will study? Usually zero or one. If you want to work at college X, it might be 20 years or longer until there is a job opening in an area where your research would make you an appropriate candidate, and there will be 250 applicants for that job. Thus, you have to be ready to move to where a job is. Even if you have a vague geographic preference (southwestern US to be near family, say), there’s a good chance you won’t end up there, at least not for decades. If you are unwilling to move, a PhD in science can be a great idea, but you should definitely consider career paths outside of the faculty track once you have that PhD.</p></li>
<li><p><strong>Two-body problem</strong>: If it’s hard for one person to end up in a place she or he wants, it’s even harder for two. Some places will consider spousal accommodations, but not all will (and it can depend on things like whether your spouse would fit naturally in your college), and it might be far from the ideal position for your partner. Some couples end up in long distance relationships for years.</p></li>
</ul>
<p>I am personally very glad I’ve made this choice of career; there are bumps, but overall it has been wonderful. My goal is not to dissuade people from going to grad school, only that you are well-informed about the risks and benefits before you start. My list has more cons, but that doesn’t mean they outweigh the benefits, only that I think they require more explanation: the benefits of a career in science are many and obvious to those with contact with this. Talk to current and past students, find out from the program about their outcomes, talk to faculty and postdocs at your current institution and at where you may go to grad school. Also be sure to find out about alternate careers after grad school: most faculty know best about how to make more faculty, but your passion may lie in starting a conservation organization, working with Congress to pass legislation, designing software for biology education, writing popular books about science, or a myriad of other careers that relate to biology but which do not necessarily lead to a faculty job (or even require grad school). I strongly urge people applying to my lab to first read <a href="https://theprofessorisin.com/buy-the-book/"><strong>The Professor Is In</strong></a> by Karen Kelsky. It’s cheap ($15 cover price, ~$8 at some retailers) and provides a good, albeit harrowing, overview of how a career with a PhD works now and what strategies will help. Some of it is tailored towards humanities rather than sciences, so check before following all its advice (i.e., getting outside teaching gigs while a grad student is <em>not</em> a good idea for most science students), but it’s a good book overall.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>